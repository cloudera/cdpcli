swagger: '2.0'
x-endpoint-name: datacatalog
x-products: CDP
x-form-factors: public
x-cdp-releases: PUBLIC
x-audit: true
info:
  version: 0.9.99
  title: Cloudera DataCatalog Service
  license:
    name: Apache 2.0
  description: Cloudera DataCatalog Service is a web service, using this service a user can execute operations like launching profilers in DataCatalog.
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /api/v1/datacatalog/launchProfilers:
    post:
      summary: Launches DataCatalog profilers in a given datalake.
      description: Launches DataCatalog profilers in a given datalake.
      operationId: launchProfilers
      x-entitlement: DATA_CATALOG_ENABLE_API_SERVICE
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/LaunchProfilersRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/LaunchProfilersResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
definitions:
  Error:
    type: object
    description: An object returned on an error.
    properties:
      code:
        type: string
        description: The error code.
      message:
        type: string
        description: The error message.
  LaunchProfilersRequest:
    type: object
    description: Launch Profilers request.
    required:
      - datalake
    properties:
      datalake:
        type: string
        description: The Name or CRN of the Datalake.
      enableHA:
        type: boolean
        description: Enables High Availability (HA) for datacatalog profilers (default value is false). The High Availability (HA) Profiler cluster provides failure resilience and scalability but incurs additional cost.
  LaunchProfilersResponse:
    type: object
    description: Profiler launch operation response.
    properties:
      datahubCluster:
        $ref: '#/definitions/Cluster'
        description: Datahub cluster details.
  Cluster:
    type: object
    description: Information about a cluster.
    properties:
      clusterName:
        type: string
        description: The name of the cluster.
      crn:
        type: string
        description: The CRN of the cluster.
      creationDate:
        type: string
        format: date-time
        description: The date when the cluster was created.
      clusterStatus:
        type: string
        description: The status of the cluster.
      nodeCount:
        type: integer
        format: int32
        description: The cluster node count.
      workloadType:
        type: string
        description: The workload type for the cluster.
      cloudPlatform:
        type: string
        description: The cloud platform.
      imageDetails:
        $ref: '#/definitions/ImageDetails'
        description: The image details.
      environmentCrn:
        type: string
        description: The CRN of the environment.
      credentialCrn:
        type: string
        description: The CRN of the credential.
      datalakeCrn:
        type: string
        description: The CRN of the attached datalake.
      clusterTemplateCrn:
        type: string
        description: The CRN of the cluster template used for the cluster creation.
  ImageDetails:
    type: object
    description: The details of the image used for cluster instances.
    properties:
      name:
        type: string
        description: The name of the image used for cluster instances.
      id:
        type: string
        description: The ID of the image used for cluster instances. This is internally generated by the cloud provider to uniquely identify the image.
      catalogUrl:
        type: string
        description: The image catalog URL.
      catalogName:
        type: string
        description: The image catalog name.

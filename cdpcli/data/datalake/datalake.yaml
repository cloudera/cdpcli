swagger: '2.0'
x-endpoint-name: datalake
x-interface-model: cdp
x-products: CDP
x-form-factors: public
x-cdp-releases: PUBLIC
x-audit: true
info:
  version: 0.1-SNAPSHOT
  title: Cloudera Datalake Service
  license:
    name: Apache 2.0
  description: Cloudera data lake is a service for launching and managing data lake clusters powered by Cloudera Runtime.
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /api/v1/datalake/listRuntimes:
    post:
      summary: Lists the datalake versions.
      description: Lists the available datalake runtime versions.
      operationId: listRuntimes
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListRuntimesRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/ListRuntimesResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/createAWSDatalake:
    post:
      summary: Creates an AWS datalake.
      description: Creates an AWS datalake.
      operationId: createAWSDatalake
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreateAWSDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/CreateAWSDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/createAzureDatalake:
    post:
      summary: Creates an Azure datalake.
      description: Creates an Azure datalake.
      operationId: createAzureDatalake
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreateAzureDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/CreateAzureDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/listDatalakes:
    post:
      summary: Lists datalakes.
      description: Lists datalakes.
      operationId: listDatalakes
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListDatalakesRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/ListDatalakesResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/deleteDatalake:
    post:
      summary: Deletes a datalake.
      description: Deletes a datalake.
      operationId: deleteDatalake
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeleteDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/DeleteDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/retryDatalake:
    post:
      summary: Retry last failed operation on a datalake.
      description: Retry last failed operation on a datalake.
      operationId: retryDatalake
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RetryDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/RetryDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/describeDatalake:
    post:
      summary: Describes a datalake.
      description: Describes a datalake.
      operationId: describeDatalake
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DescribeDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/DescribeDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/renewCertificate:
    post:
      summary: Renew certificate on Datalake cluster by name or CRN
      description: Renew certificate on Datalake cluster by name or CRN
      operationId: renewCertificate
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RenewCertificateRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/RenewCertificateResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/repairDatalake:
    post:
      summary: Repairs a datalake.
      description: Repairs a datalake.
      operationId: repairDatalake
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RepairDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/RepairDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/getClusterServiceStatus:
    post:
      summary: Get cluster service status.
      description: Gets the status of the services in a cluster.
      operationId: getClusterServiceStatus
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetClusterServiceStatusRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/GetClusterServiceStatusResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/getClusterHostStatus:
    post:
      summary: Get cluster host status.
      description: Gets the status of the hosts in a cluster.
      operationId: getClusterHostStatus
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetClusterHostStatusRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/GetClusterHostStatusResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/upgradeDatalake:
    post:
      summary: OS or data platform upgrade for the SDX cluster.
      description: OS or data platform upgrade for the SDX cluster. You have the option to either specify one of 'imageId', 'runtime' or 'lockComponents' or both 'imageId' and 'lockComponents' or none of the parameters.
      operationId: upgradeDatalake
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/UpgradeDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/UpgradeDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/startDatalake:
    post:
      summary: Start Datalake
      description: Deprecated, please use 'cdp environments start-environment' instead.
      operationId: startDatalake
      x-mutating: true
      x-deprecated: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/StartDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/StartDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/stopDatalake:
    post:
      summary: Stop Datalake
      description: Deprecated, please use 'cdp environments stop-environment' instead.
      operationId: stopDatalake
      x-mutating: true
      x-deprecated: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/StopDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/StopDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/backupDatalake:
    post:
      summary: Create backup of datalake.
      description: Takes a backup of all the data in the datalake.
      operationId: backupDatalake
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/BackupDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/BackupDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/backupDatalakeStatus:
    post:
      summary: Check the status of a datalake backup operation performed.
      description: Identifies the backup operation based on the inputs provided and gets the status. BackupName and BackupId are mutually exclusive. Only one of them can be provided.
      operationId: backupDatalakeStatus
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/BackupDatalakeStatusRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/BackupDatalakeStatusResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/restoreDatalake:
    post:
      summary: Restore the datalake from backup taken.
      description: Restore the datalake from a backup that was taken. Backup to be used for restore is identified based on the information provided in the restore request. BackupId and BackupName are mutually exclusive. Only one of them can be provided. If both are provided, BackupId takes precedence.
      operationId: restoreDatalake
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RestoreDatalakeRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/RestoreDatalakeResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/restoreDatalakeStatus:
    post:
      summary: Check the status of datalake restore operation.
      description: Identifies the restore operation based on the inputs provided and gets the status. RestoreId and BackupName are mutually exclusive. Only one of them can be provided.
      operationId: restoreDatalakeStatus
      x-mutating: true
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RestoreDatalakeStatusRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/RestoreDatalakeStatusResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/listDatalakeBackups:
    post:
      summary: List all the backup operations that were performed on the datalake.
      description: List all the backup operations that were performed on the datalake.
      operationId: listDatalakeBackups
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListDatalakeBackupsRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/ListDatalakeBackupsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/getDatalakeLogDescriptors:
    post:
      summary: Gather log descriptors that are used for diagnostics collection.
      description: Gather log descriptors that are used for diagnostics collection.
      operationId: getDatalakeLogDescriptors
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetDatalakeLogDescriptorsRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/GetDatalakeLogDescriptorsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/collectDatalakeDiagnostics:
    post:
      summary: Start DataLake diagnostics collection
      description: Start Datalake diagnostics collection
      operationId: collectDatalakeDiagnostics
      x-mutating: false
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CollectDatalakeDiagnosticsRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/CollectDatalakeDiagnosticsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
  /api/v1/datalake/rotateAutoTlsCertificates:
    post:
      summary: Rotate autotls certificates on the datalake's hosts
      description: Rotate autotls certificates on the datalake's hosts
      operationId: rotateAutoTlsCertificates
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RotateAutoTlsCertificatesRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/RotateAutoTlsCertificatesResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
definitions:
  Error:
    type: object
    description: An object returned on an error.
    properties:
      code:
        type: string
        description: The error code.
      message:
        type: string
        description: The error message.
  ClouderaManagerDetails:
    type: object
    description: Cloudera Manager details.
    required:
      - version
      - clouderaManagerRepositoryURL
    properties:
      version:
        type: string
        description: Cloudera Manager version.
      clouderaManagerRepositoryURL:
        type: string
        description: Cloudera Manager repository URL.
      clouderaManagerServerURL:
        type: string
        description: Cloudera Manager server URL.
  ProductVersion:
    type: object
    description: Product version.
    required:
      - name
      - version
    properties:
      name:
        type: string
        description: The name of the product.
      version:
        type: string
        description: The version of the product.
  AWSConfiguration:
    type: object
    description: AWS configuration.
    properties:
      instanceProfile:
        type: string
        description: The instance profile used for the ID Broker instance.
  AzureConfiguration:
    type: object
    description: Azure configuration.
    properties:
      managedIdentity:
        type: string
        description: The managed identity used for the ID Broker instance.
  DatalakeDetails:
    type: object
    description: Details about a datalake
    required:
      - datalakeName
      - crn
    properties:
      crn:
        type: string
        description: The CRN of the datalake.
      datalakeName:
        type: string
        description: The name of the datalake.
      status:
        type: string
        description: The status of the datalake.
      environmentCrn:
        type: string
        description: The CRN of the environment.
      credentialCrn:
        type: string
        description: The CRN of credentials.
      cloudPlatform:
        type: string
        description: The cloud platform.
      instanceGroups:
        type: array
        items:
          $ref: '#/definitions/InstanceGroup'
        description: The instance details.
      creationDate:
        type: string
        format: date-time
        description: The date when the datalake was created.
      clouderaManager:
        $ref: '#/definitions/ClouderaManagerDetails'
        description: The Cloudera Manager details.
      productVersions:
        type: array
        items:
          $ref: '#/definitions/ProductVersion'
        description: The product versions.
      region:
        type: string
        description: The region of the datalake.
      statusReason:
        type: string
        description: The reason for the status of the datalake.
      awsConfiguration:
        $ref: '#/definitions/AWSConfiguration'
        description: The AWS configuration.
      azureConfiguration:
        $ref: '#/definitions/AzureConfiguration'
        description: The Azure configuration.
      endpoints:
        $ref: '#/definitions/Endpoints'
        description: The exposed service api endpoints.
  InstanceGroup:
    type: object
    description: The type of the instance group which also contains the actual instance(s)
    required:
      - name
      - instances
    properties:
      name:
        type: string
        description: The name of the instance group where the given instance is located.
      instances:
        type: array
        items:
          $ref: '#/definitions/Instance'
        description: Some information about the given instance.
  Instance:
    type: object
    description: Object which holds some details of an instance for the given cluster.
    required:
      - id
      - state
    properties:
      id:
        type: string
        description: The ID of the given instance.
      state:
        type: string
        description: The actual state of the instance.
      privateIp:
        type: string
        description: The private ip of the given instance.
      publicIp:
        type: string
        description: The public ip of the given instance.
  Endpoints:
    type: object
    description: Object which holds the exposed endpoints for the given cluster.
    required:
      - endpoints
    properties:
      endpoints:
        type: array
        items:
          $ref: '#/definitions/Endpoint'
        description: The exposed API endpoints.
  Endpoint:
    type: object
    description: Object which holds the exposed endpoint.
    required:
      - serviceName
      - serviceUrl
      - displayName
      - knoxService
      - mode
      - open
    properties:
      serviceName:
        type: string
        description: The name of the exposed service
      serviceUrl:
        type: string
        description: The server url for the given exposed service's API.
      displayName:
        type: string
        description: The more consumable name of the exposed service.
      knoxService:
        type: string
        description: The related knox entry.
      mode:
        type: string
        description: The SSO mode of the given service.
      open:
        type: boolean
        description: The access status of the given endpoint. Whether its open or not.
  Datalake:
    type: object
    description: Information about a datalake.
    required:
      - datalakeName
      - crn
    properties:
      datalakeName:
        type: string
        description: The name of the datalake.
      crn:
        type: string
        description: The CRN of the datalake.
      status:
        type: string
        description: The status of the datalake.
      environmentCrn:
        type: string
        description: The CRN of the environment.
      creationDate:
        type: string
        format: date-time
        description: The date when the datalake was created.
      statusReason:
        type: string
        description: The reason for the status of the datalake.
  DatalakeResourceTagRequest:
    type: object
    description: Tag for a datalake resource.
    required:
      - key
      - value
    properties:
      key:
        type: string
        description: The key of tag.
      value:
        type: string
        description: The value of the tag.
  ListRuntimesRequest:
    type: object
    description: Request object for list datalake runtime versions.
  ListRuntimesResponse:
    type: object
    description: Response object for list datalake runtime versions.
    required:
      - versions
    properties:
      versions:
        type: array
        items:
          $ref: '#/definitions/Runtime'
        description: The list of datalake runtime versions.
  Runtime:
    type: object
    description: An advertised datalake runtime version.
    required:
      - runtimeVersion
      - defaultRuntimeVersion
    properties:
      runtimeVersion:
        type: string
        description: The actual version number.
      defaultRuntimeVersion:
        type: boolean
        description: Whether it is a default runtime version or not.
  AWSConfigurationRequest:
    type: object
    description: Request object for AWS configuration.
    required:
      - instanceProfile
      - storageBucketLocation
    properties:
      instanceProfile:
        type: string
        description: The ARN of an IAM instance profile.
      storageBucketLocation:
        type: string
        description: The location of the S3 bucket to be used as storage. The location has to start with s3a:// followed by the bucket name.
  AzureConfigurationRequest:
    type: object
    description: Request object for Azure configuration.
    required:
      - managedIdentity
      - storageLocation
    properties:
      managedIdentity:
        type: string
        description: The managed identity to use. The assumer should have Virtual Machine Contributor and Managed Identity Operator roles on subscription level.
      storageLocation:
        type: string
        description: The storage location to use. The location has to be in the following format abfs://filesystem@storage-account-name.dfs.core.windows.net. The filesystem must already exist and the storage account must be StorageV2.
  CreateAWSDatalakeRequest:
    type: object
    description: Request object for create AWS datalake request.
    required:
      - datalakeName
      - environmentName
      - cloudProviderConfiguration
    properties:
      datalakeName:
        type: string
        description: The datalake name. This name must be unique, must have between 5 and 100 characters, and must contain only lowercase letters, numbers and hyphens. Names are case-sensitive.
        minLength: 5
        maxLength: 100
      environmentName:
        type: string
        description: The environment name or CRN.
      cloudProviderConfiguration:
        $ref: '#/definitions/AWSConfigurationRequest'
        description: AWS configuration.
      scale:
        description: The scale of the datalake. Allowed values are "LIGHT_DUTY" or "MEDIUM_DUTY_HA". Defaults to "LIGHT_DUTY" if not set.
        $ref: '#/definitions/DatalakeScaleType'
        x-no-compatibility-guarantee: true
      tags:
        type: array
        description: Tags to be added to Datalake related resources.
        items:
          $ref: '#/definitions/DatalakeResourceTagRequest'
      runtime:
        type: string
        description: Cloudera Runtime version.
  CreateAWSDatalakeResponse:
    type: object
    description: Response object for create AWS datalake request.
    required:
      - datalake
    properties:
      datalake:
        $ref: '#/definitions/Datalake'
        description: The datalake.
  CreateAzureDatalakeRequest:
    type: object
    description: Request object for create Azure datalake request.
    required:
      - datalakeName
      - environmentName
      - cloudProviderConfiguration
    properties:
      datalakeName:
        type: string
        description: The datalake name. This name must be unique, must have between 5 and 100 characters, and must contain only lowercase letters, numbers and hyphens. Names are case-sensitive.
        minLength: 5
        maxLength: 100
      environmentName:
        type: string
        description: The environment name or CRN.
      cloudProviderConfiguration:
        $ref: '#/definitions/AzureConfigurationRequest'
        description: Azure configuration.
      scale:
        description: The scale of the datalake. Allowed values are "LIGHT_DUTY" or "MEDIUM_DUTY_HA". Defaults to "LIGHT_DUTY" if not set.
        $ref: '#/definitions/DatalakeScaleType'
        x-no-compatibility-guarantee: true
      tags:
        type: array
        description: Tags to be added to Datalake related resources.
        items:
          $ref: '#/definitions/DatalakeResourceTagRequest'
      runtime:
        type: string
        description: Cloudera Runtime version.
  CreateAzureDatalakeResponse:
    type: object
    description: Response object for create Azure datalake request.
    required:
      - datalake
    properties:
      datalake:
        $ref: '#/definitions/Datalake'
        description: The datalake.
  DatalakeScaleType:
    type: string
    description: Represents the available datalake scales. Defaults to LIGHT_DUTY if not set.
    enum:
      - LIGHT_DUTY
      - MEDIUM_DUTY_HA
  ListDatalakesRequest:
    type: object
    description: Request object for list datalakes request.
    properties:
      environmentName:
        type: string
        description: The name or CRN of the environment for which the datalakes will be listed.
      datalakeName:
        type: string
        description: The name or CRN of the datalake for which details are requested.
  ListDatalakesResponse:
    type: object
    description: Response object for list datalakes request.
    required:
      - datalakes
    properties:
      datalakes:
        type: array
        items:
          $ref: '#/definitions/Datalake'
        description: The datalakes.
  DeleteDatalakeRequest:
    type: object
    description: Request object for delete datalake request.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalake to be deleted.
      force:
        type: boolean
        description: Whether the datalake should be force deleted. This option can be used when cluster deletion fails. This removes the entry from Cloudera Datalake service. Any lingering resources have to be deleted from the cloud provider manually. The default is false.
  DeleteDatalakeResponse:
    type: object
    description: Response object for delete datalake request.
  RetryDatalakeResponse:
    type: object
    description: Response object for retry datalake request.
  RetryDatalakeRequest:
    type: object
    description: Request object for retry datalake request.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalake to be retry on.
  DescribeDatalakeRequest:
    type: object
    description: Request object for describe datalake request.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalake.
  DescribeDatalakeResponse:
    type: object
    description: Response object for describe datalake request.
    required:
      - datalake
    properties:
      datalake:
        $ref: '#/definitions/DatalakeDetails'
        description: The datalake.
  RenewCertificateRequest:
    type: object
    description: Request object for renew datalake certificate request.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalake.
  RepairDatalakeRequest:
    type: object
    description: Request object for repair datalake request.
    required:
      - datalakeName
      - instanceGroupName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalake.
      instanceGroupName:
        type: string
        description: The instance group where the failed instances will be repaired.
  RepairDatalakeResponse:
    type: object
    description: Response object for repair datalake request.
  GetClusterServiceStatusRequest:
    type: object
    description: Request object to get service status.
    required:
      - clusterName
    properties:
      clusterName:
        type: string
        description: The name or CRN of the cluster.
  GetClusterServiceStatusResponse:
    type: object
    description: Response object to get service status.
    required:
      - services
    properties:
      services:
        type: array
        items:
          $ref: '#/definitions/ServiceStatus'
        description: The cluster services health.
  ServiceStatus:
    type: object
    description: Information about a cluster service.
    properties:
      type:
        type: string
        description: The service type.
      state:
        type: string
        description: The service state.
      healthSummary:
        type: string
        description: The service health summary.
      healthChecks:
        type: array
        items:
          $ref: '#/definitions/HealthCheck'
        description: The service health checks.
  HealthCheck:
    type: object
    description: The result of a health check.
    properties:
      name:
        type: string
        description: The name of service health check.
      summary:
        type: string
        description: The service health check summary.
  GetClusterHostStatusRequest:
    type: object
    description: Request object to get host status.
    required:
      - clusterName
    properties:
      clusterName:
        type: string
        description: The name or CRN of the cluster.
  GetClusterHostStatusResponse:
    type: object
    description: Response object for getting host status.
    required:
      - hosts
    properties:
      hosts:
        type: array
        items:
          $ref: '#/definitions/HostStatus'
        description: The cluster hosts status.
  HostStatus:
    type: object
    description: Information about cluster host status.
    properties:
      hostid:
        type: string
        description: Unique identifier of the cluster host given by Cloudera Manager.
      hostname:
        type: string
        description: The cluster hostname.
      healthSummary:
        type: string
        description: The host health summary.
  StartDatalakeRequest:
    type: object
    description: Request object to start a datalake.
    x-deprecated: true
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalake.
  StartDatalakeResponse:
    type: object
    description: Response object of starting a datalake.
    x-deprecated: true
  StopDatalakeRequest:
    type: object
    description: Request object to stop a datalake.
    x-deprecated: true
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalakeName.
  StopDatalakeResponse:
    type: object
    description: Response object of stopping a datalake.
    x-deprecated: true
  BackupDatalakeRequest:
    type: object
    description: Request object to perform a backup of datalake.
    required:
      - datalakeName
      - backupLocation
    properties:
      datalakeName:
        type: string
        description: The name of the datalake.
      backupLocation:
        type: string
        description: Location where the back-up has to be stored. For example s3a://Location/of/the/backup.
      backupName:
        type: string
        description: The name of the backup.
  BackupDatalakeResponse:
    type: object
    description: Response object to a request made for backup of datalake.
    required:
      - accountId
      - backupId
      - userCrn
      - internalState
      - status
      - startTime
      - endTime
      - backupLocation
    properties:
      accountId:
        type: string
        description: Account where the datalake exists.
      backupId:
        type: string
        description: Unique identifier for the backup requested.
      userCrn:
        type: string
        description: Crn of the user triggered this operation.
      internalState:
        type: string
        description: Provides the details of the internal state where the backup operation stands.
      status:
        type: string
        description: Provide the current status.
      startTime:
        type: string
        description: Time when the backup operation started.
      endTime:
        type: string
        description: Time when the backup operation ended.
      backupLocation:
        type: string
        description: Location of the backup to be used to perform restore.
      backupName:
        type: string
        description: Name of the backup.
      failureReason:
        type: string
        description: Reason for the failure.
  BackupDatalakeStatusRequest:
    type: object
    description: Request object to get the status of datalake backup. Returns the status of the latest backup that matches the provided input.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name of the datalake. When backupName and backupId are not provided, status request will get the status of the latest backup operation performed on the given datalake.
      backupName:
        type: string
        description: The name of the backup. When provided, the status request will get the status of the latest backup performed with the given backup name on the given datalake.
      backupId:
        type: string
        description: Unique identifier of the backup performed. When provided, the status request will get the status entry that has the backupid provided.
  BackupDatalakeStatusResponse:
    type: object
    description: Response object to get the status of datalake backup status request.
    required:
      - accountId
      - backupId
      - userCrn
      - internalState
      - status
      - startTime
      - endTime
      - backupLocation
    properties:
      accountId:
        type: string
        description: Account where the datalake exists.
      backupId:
        type: string
        description: Unique identifier for the backup requested.
      userCrn:
        type: string
        description: Crn of the user triggered this operation.
      internalState:
        type: string
        description: Provides the details of the internal state where the backup operation stands.
      status:
        type: string
        description: Provide the current status.
      startTime:
        type: string
        description: Time when the backup operation started.
      endTime:
        type: string
        description: Time when the backup operation ended.
      backupLocation:
        type: string
        description: Location of the backup to be used to perform restore.
      backupName:
        type: string
        description: Name of the backup.
      failureReason:
        type: string
        description: Reason for the failure.
  RestoreDatalakeRequest:
    type: object
    description: Request to restore datalake from backup. Restore does not restore the database by default.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name of the datalake to be restored. When backupId is not provided, the most recent successful backup on datalake with the provided name would be used.
      backupId:
        type: string
        description: The ID of the backup to be used to perform a restore. The ID could refer to backup of any datalake in the same account. This is the only way to restore from a backup that was taken on a datalake with a different name.
      backupName:
        type: string
        description: The name of the backup. When provided, the restore will be performed using the latest successful backup whose name matches the parameter, and that was taken from the datalake that is being restored.
      includeDatabase:
        type: boolean
        description: Restore the database backing HMS/Ranger services. If this option is not provided, the HMS/Ranger services are restored by default.
  RestoreDatalakeResponse:
    type: object
    description: Response object to a request to perform restore of datalake.
    required:
      - accountId
      - restoreId
      - backupId
      - userCrn
      - internalState
      - status
      - startTime
      - endTime
      - backupLocation
    properties:
      accountId:
        type: string
        description: Account where the datalake exists.
      restoreId:
        type: string
        description: Unique identifier of the restore operation performed.
      backupId:
        type: string
        description: Unique identifier of the backup used to perform restore.
      userCrn:
        type: string
        description: Crn of the user triggered this operation.
      internalState:
        type: string
        description: Provides the details of the internal state where the backup operation stands.
      status:
        type: string
        description: Provide the current status.
      startTime:
        type: string
        description: Time when the backup operation started.
      endTime:
        type: string
        description: Time when the backup operation ended.
      backupLocation:
        type: string
        description: Location of the backup to be used to perform restore.
      backupName:
        type: string
        description: Name of the backup.
      failureReason:
        type: string
        description: Reason for the failure.
  RestoreDatalakeStatusRequest:
    type: object
    description: Request object to get the status of a restore operation.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name of the Data Lake for which the most recent restore status will be retrieved.
      restoreId:
        type: string
        description: Unique identifier of the restore operation performed.
  RestoreDatalakeStatusResponse:
    type: object
    description: Response object with information on last restore operation on a datalake.
    required:
      - accountId
      - restoreId
      - backupId
      - userCrn
      - internalState
      - status
      - startTime
      - endTime
      - backupLocation
    properties:
      accountId:
        type: string
        description: Account where the datalake exists.
      restoreId:
        type: string
        description: Unique identifier of the restore operation performed.
      backupId:
        type: string
        description: Unique identifier of the backup used to perform restore.
      userCrn:
        type: string
        description: Crn of the user triggered this operation.
      internalState:
        type: string
        description: Provides the details of the internal state where the backup operation stands.
      status:
        type: string
        description: Provide the current status.
      startTime:
        type: string
        description: Time when the backup operation started.
      endTime:
        type: string
        description: Time when the backup operation ended.
      backupLocation:
        type: string
        description: Location of the backup to be used to perform restore.
      backupName:
        type: string
        description: Name of the backup.
      failureReason:
        type: string
        description: Reason for the failure.
  ListDatalakeBackupsRequest:
    type: object
    description: Request object to get the list of backup operations performed on a datalake.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name of the datalake.
  ListDatalakeBackupsResponse:
    type: object
    description: Response object with the list of backup operations performed on a datalake.
    properties:
      backups:
        type: array
        description: Backup object with details of backup performed.
        items:
          $ref: '#/definitions/DatalakeBackup'
  DatalakeBackup:
    type: object
    description: Backup object with details of backup performed.
    required:
      - backupName
      - accountId
      - userCrn
      - backupId
      - internalState
      - status
      - startTime
      - endTime
      - backupLocation
      - failureReason
    properties:
      backupName:
        type: string
        description: Name of the backup.
      accountId:
        type: string
        description: Account where the datalake exists.
      userCrn:
        type: string
        description: Crn of the user triggered this operation.
      backupId:
        type: string
        description: Request to perform a from a specific status for a specific backup. Else, status of the last backup performed will be returned.
      internalState:
        type: string
        description: Provides the details of the internal state where the backup operation stands.
      status:
        type: string
        description: Provide the current status.
      startTime:
        type: string
        description: Time when the backup operation started.
      endTime:
        type: string
        description: Time when the backup operation ended.
      backupLocation:
        type: string
        description: Location of the backup to be used to perform restore.
      failureReason:
        type: string
        description: Reason for the failure.
  UpgradeDatalakeRequest:
    type: object
    description: Request object to upgrade datalake.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalake.
  UpgradeDatalakeResponse:
    type: object
    description: Response object for upgrade datalake request.
    properties: {}
  DatalakeVmLogRequest:
    type: object
    description: Log descriptor, contains a path and label pair. Used for diagnostics collections.
    required:
      - path
      - label
    properties:
      path:
        type: string
        description: Path of the log file(s) that needs to be collected. (Can be glob wildcard)
      label:
        type: string
        description: Label that will be used to identify a log descriptor. (will be used as a folder inside logs folder)
  DatalakeVmLogResponse:
    type: object
    description: Log descriptor, contains a path and label pair. Used for diagnostics collections.
    properties:
      path:
        type: string
        description: Path of the log file(s) that needs to be collected. (Can be glob wildcard)
      label:
        type: string
        description: Label that will be used to identify a log descriptor. (will be used as a folder inside logs folder)
  CollectDatalakeDiagnosticsRequest:
    type: object
    description: Request object for collecting DataLake diagnostics.
    required:
      - crn
      - destination
      - description
    properties:
      crn:
        type: string
        description: CRN of the Datalake cluster.
      destination:
        type: string
        enum:
          - SUPPORT
          - CLOUD_STORAGE
          - ENG
          - LOCAL
        description: Destination of the diagnostics collection (Support, Own cloud storage, Engineering or collect only on the nodes)
      description:
        type: string
        description: Additional information / title for the diagnostics collection.
      caseNumber:
        type: string
        description: Optional support case number in case of SUPPORT destination, otherwise only act as additional data.
      labels:
        type: array
        description: Array of labels that can filter logs that are collected during diagnostics collection.
        uniqueItems: true
        items:
          type: string
      startDate:
        type: string
        format: date-time
        description: Date timestamp - collect files only for diagnostics that has higher last modified timestamp value than this.
      endDate:
        type: string
        format: date-time
        description: Date timestamp - collect files only for diagnostics that has lower created timestamp value than this.
      additionalLogs:
        type: array
        description: Array of log descriptors that should be additionally collected during diagnostics collection.
        items:
          $ref: '#/definitions/DatalakeVmLogRequest'
      hosts:
        type: array
        description: Array of host names (fqdn), collection will run only on the dedicated hosts.
        uniqueItems: true
        items:
          type: string
      hostGroups:
        type: array
        description: Array of host groups, collection will run only on the dedicated hosts that belongs to these host groups.
        uniqueItems: true
        items:
          type: string
      includeSaltLogs:
        type: boolean
        description: Include salt minion/master/api system logs in the diagnostics collection.
      updatePackage:
        type: boolean
        default: false
        description: If enabled, required package (cdp-telemetry) will be upgraded or installed on the nodes. (useful if package is not installed or needs to be upgraded) Network is required for this operation.
      storageValidation:
        type: boolean
        default: false
        description: Enable/disable node level storage validation (can be disabled for example, if you have too many hosts and do not want to do too much parallel writes to s3/abfs)
  CollectDatalakeDiagnosticsResponse:
    type: object
    description: Response object for collecting DataLake diagnostics.
  GetDatalakeLogDescriptorsRequest:
    type: object
    description: Request object for obtaining log descriptors. (that are used for diagnostics collection)
  GetDatalakeLogDescriptorsResponse:
    type: object
    description: Response object for obtaining log descriptors. (useful for diagnostics collection filtering)
    properties:
      logs:
        type: array
        description: Array of log descriptors. (useful for diagnostics collection filtering)
        items:
          $ref: '#/definitions/DatalakeVmLogResponse'
  RotateAutoTlsCertificatesRequest:
    type: object
    description: Request object to rotate autotls certificates on datalake's hosts.
    required:
      - datalakeName
    properties:
      datalakeName:
        type: string
        description: The name or CRN of the datalake.
  RotateAutoTlsCertificatesResponse:
    type: object
    description: Response object to rotate autotls certificates on datalake's hosts.
  RenewCertificateResponse:
    type: object
    description: Response object for renew certificate request.

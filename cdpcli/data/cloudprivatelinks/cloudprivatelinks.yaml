x-generated: Automatically generated by CDP protoc plugin. Do not edit manually.
swagger: '2.0'
x-endpoint-name: cloudprivatelinks
x-products: CDP
x-form-factors: public
x-cdp-releases: PUBLIC
info:
  version: 0.9.153
  title: Cloudera Private Links API Service
  license:
    name: Apache 2.0
  description: Provisions Private Link Endpoints on the cloud environments.
  termsOfService: https://www.cloudera.com/legal/commercial-terms-and-conditions.html
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
paths:
  /api/v1/cloudprivatelinks/authorizePrivateLinkServiceAccess:
    post:
      summary: Authorize Private Link services access for the cloud account id.
      description: Returns the list of Private Link service name and its respective authorization status.
      operationId: authorizePrivateLinkServiceAccess
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/authorizePrivateLinkServiceAccess
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/AuthorizePrivateLinkServiceAccessRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/AuthorizePrivateLinkServiceAccessResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
  /api/v1/cloudprivatelinks/createPrivateLinkEndpoint:
    post:
      summary: Creates Private Link endpoints.
      description: Creates the Private Link Endpoints for specified CDP service group.
      operationId: createPrivateLinkEndpoint
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/createPrivateLinkEndpoint
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/CreatePrivateLinkEndpointRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/CreatePrivateLinkEndpointResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
  /api/v1/cloudprivatelinks/deletePrivateLinkEndpoint:
    post:
      summary: Deletes Private Link endpoints.
      description: Deletes the Private Link Endpoints for specified CDP service group.
      operationId: deletePrivateLinkEndpoint
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/deletePrivateLinkEndpoint
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeletePrivateLinkEndpointRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/DeletePrivateLinkEndpointResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
  /api/v1/cloudprivatelinks/getPrivateLinkStatus:
    post:
      summary: Get the status of a Private Link.
      description: Returns the status of a Private Link.
      operationId: getPrivateLinkStatus
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/getPrivateLinkStatus
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/GetPrivateLinkStatusRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/GetPrivateLinkStatusResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: false
  /api/v1/cloudprivatelinks/listPrivateLinkEndpointStatuses:
    post:
      summary: Lists the statuses of the Private Link endpoints that are in creation/deletion status.
      description: Returns the statuses of the Private Link endpoints in creation/deletion.
      operationId: listPrivateLinkEndpointStatuses
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/listPrivateLinkEndpointStatuses
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListPrivateLinkEndpointStatusesRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/ListPrivateLinkEndpointStatusesResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: false
  /api/v1/cloudprivatelinks/listPrivateLinkServicesForRegion:
    post:
      summary: Lists the Private Link services that are supported for the region and service group.
      description: Returns the list of Private Link service names and the mapped service components.
      operationId: listPrivateLinkServicesForRegion
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/listPrivateLinkServicesForRegion
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/ListPrivateLinkServicesForRegionRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/ListPrivateLinkServicesForRegionResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: false
  /api/v1/cloudprivatelinks/migratePrivateLinkEndpoints:
    post:
      summary: Migrates Private Link endpoints to fallback VPCE services.
      description: Migrates Private Link endpoints from non-control plane endpoint service to Control Plane endpoint services.
      operationId: migratePrivateLinkEndpoints
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/migratePrivateLinkEndpoints
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/MigratePrivateLinkEndpointsRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/MigratePrivateLinkEndpointsResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
  /api/v1/cloudprivatelinks/revokePrivateLinkServiceAccess:
    post:
      summary: Revoke Private Link services access for the cloud account ID.
      description: Returns the Private Link revocation status.
      operationId: revokePrivateLinkServiceAccess
      x-entitlement: CDP_PRIVATELINKS
      x-right: cloudprivatelinks/revokePrivateLinkServiceAccess
      parameters:
        - name: input
          in: body
          required: true
          schema:
            $ref: '#/definitions/RevokePrivateLinkServiceAccessRequest'
      responses:
        200:
          description: Expected response to a valid request.
          schema:
            $ref: '#/definitions/RevokePrivateLinkServiceAccessResponse'
        default:
          description: The default response on an error.
          schema:
            $ref: '#/definitions/Error'
      x-mutating: true
definitions:
  Error:
    type: object
    description: An object returned on an error.
    properties:
      code:
        type: string
        description: The error code.
      message:
        type: string
        description: The error message.
  CloudServiceProvider:
    type: string
    description: "Supported cloud providers\n `AWS` - A value indicating AWS as supported cloud provider for creating Private Links. `AZURE` - A value indicating Azure as supported cloud provider for creating Private Links."
    enum:
      - AWS
      - AZURE
  ResourceTag:
    type: object
    description: Tag object which can be passed to add custom tags for the cloud resources.
    required:
      - key
      - value
    properties:
      key:
        type: string
        description: Key value for the tag.
      value:
        type: string
        description: Value for the tag.
  CreatePrivateLinkEndpointRequest:
    type: object
    description: Request object for the CreatePrivateLinkEndpoint method.
    required:
      - cloudServiceProvider
    properties:
      cloudServiceProvider:
        description: Cloud Service Provider. Currently supporting AWS and AZURE.
        $ref: '#/definitions/CloudServiceProvider'
      enablePrivateDns:
        type: boolean
        description: Enable Private DNS for Private Link endpoint.
      serviceGroup:
        type: string
        description: CDP service group.
      awsAccountDetails:
        description: AWS account details where the Private Link endpoint is created.
        $ref: '#/definitions/AWSAccountDetails'
      azureAccountDetails:
        description: Azure account details where Private Link endpoint is created.
        $ref: '#/definitions/AzureAccountDetails'
      resourceTags:
        type: array
        items:
          $ref: '#/definitions/ResourceTag'
        description: Custom tags for the different cloud resources created during Private Links creation.
  CreatePrivateLinkEndpointResponse:
    type: object
    description: Response object for the CreatePrivateLinkEndpoint method.
    properties:
      trackingId:
        type: string
        description: Tracking ID of the create endpoint request.
  ListPrivateLinkEndpointStatusesRequest:
    type: object
    description: Request object for listPrivateLinkEndpointStatuses method.
    required:
      - trackingId
    properties:
      trackingId:
        type: string
        description: Tracking ID of the create or delete endpoint request.
  ListPrivateLinkEndpointStatusesResponse:
    type: object
    description: Response object for listPrivateLinkEndpointStatuses method.
    properties:
      privatelinkEndpoints:
        type: array
        items:
          $ref: '#/definitions/PrivateLinkEndpointStatus'
        description: List of statuses of Private Link endpoints.
  DeletePrivateLinkEndpointRequest:
    type: object
    description: Request object for the DeletePrivateLinkEndpoint method.
    required:
      - cloudServiceProvider
    properties:
      cloudServiceProvider:
        description: Cloud Service Provider. Currently supporting AWS and AZURE.
        $ref: '#/definitions/CloudServiceProvider'
      awsAccountInfo:
        description: The AWS account details from which this Private Link endpoint is to be deleted.
        $ref: '#/definitions/AWSAccountInfo'
      azureAccountInfo:
        description: The Azure account details from which this Private Link endpoint is to be deleted.
        $ref: '#/definitions/AzureAccountInfo'
  DeletePrivateLinkEndpointResponse:
    type: object
    description: Response object for the DeletePrivateLinkEndpoint method.
    properties:
      trackingId:
        type: string
        description: Tracking ID of the delete endpoint request.
  AuthorizePrivateLinkServiceAccessRequest:
    type: object
    description: Request object for the AuthorizePrivateLinkServicesAccess method.
    properties:
      cloudAccountId:
        type: string
        description: AWS account ID to authorize access for Private Link.
      subscriptionId:
        type: string
        description: Azure subscription ID to authorize access for Private Link.
      region:
        type: string
        description: Region where the Private Link service exists.
      serviceGroup:
        type: string
        description: CDP service group. Currently supported "CDP-CONTROL-PLANE" for PaaS.
      cloudServiceProvider:
        description: Cloud Service Provider. Currently supporting AWS and AZURE.
        $ref: '#/definitions/CloudServiceProvider'
  AuthorizePrivateLinkServiceAccessResponse:
    type: object
    description: Response object for the AuthorizePrivateLinkServicesAccess method.
    properties:
      authorizePrivateLinkServiceAccessResults:
        type: array
        items:
          $ref: '#/definitions/AuthorizePrivateLinkServiceAccessResult'
        description: List of AuthorizePrivateLinkServiceAccessResult objects.
      status:
        type: string
        description: Status of Private Link service access authorization.
  AuthorizePrivateLinkServiceAccessResult:
    type: object
    description: Authorization response containing Private Link service name, service component and its authorization status.
    properties:
      privateLinkService:
        type: string
        description: Name of the Private Link service.
      serviceComponent:
        type: string
        description: CDP service component.
      authorizationStatus:
        type: string
        description: Authorization status for the Private Link service.
      availabilityZoneList:
        type: string
        description: Availability zone list.
      vpceClientTcpPortList:
        type: string
        description: VPCE Client TCP port list.
      hostname:
        type: string
        description: Hostname of the Private Link Service.
  ListPrivateLinkServicesForRegionRequest:
    type: object
    description: Request object for the ListPrivateLinkServicesForTheRegion method.
    required:
      - region
    properties:
      region:
        type: string
        description: Region for which the Private Link services are to be queried.
      serviceGroup:
        type: string
        description: CDP service group. Currently supports "CDP-CONTROL-PLANE" for PaaS.
  ListPrivateLinkServicesForRegionResponse:
    type: object
    description: Response object for the ListPrivateLinkServicesForTheRegion method.
    properties:
      listPrivateLinkServicesForRegionResults:
        type: array
        items:
          $ref: '#/definitions/ListPrivateLinkServicesForRegionResult'
        description: List of ListPrivateLinkServicesForTheRegionResult objects to be returned.
  ListPrivateLinkServicesForRegionResult:
    type: object
    description: Response object containing PL service name and CDP service component.
    properties:
      serviceComponent:
        type: string
        description: The CDP Service component.
      privateLinkService:
        type: string
        description: Name of the Private Link service.
      availabilityZoneList:
        type: string
        description: Availability zone list.
      vpceClientTcpPortList:
        type: string
        description: VPCE Client tcp port list.
      hostname:
        type: string
        description: Hostname of the Private Link Service.
  CrossAccountRoleDetails:
    type: object
    description: Customer cross account role details.
    properties:
      crossAccountRole:
        type: string
        description: Cross-account role.
      externalId:
        type: string
        description: External ID associated with the cross-account role.
  AzureClientSecretCredential:
    type: object
    description: Azure client secret credential, either this or credential CRN should be passed.
    properties:
      clientId:
        type: string
        description: The client (application) ID of the service principal
      clientSecret:
        type: string
        description: A client secret that was generated for the App Registration used to authenticate the client.
      tenantId:
        type: string
        description: The Azure Active Directory tenant (directory) Id of the service principal.
  AWSAccountDetails:
    type: object
    description: Details of the cloud network and the cross-account role required to create the Private Link endpoint.
    properties:
      cloudAccountId:
        type: string
        description: Account ID to authorize access for Private Link.
      crossAccountRoleDetails:
        description: Cross account role details.
        $ref: '#/definitions/CrossAccountRoleDetails'
      credentialCrn:
        type: string
        description: CDP Credential CRN to fetch the AWS cross-account RoleArn for the account where the endpoint gets deleted.
      region:
        type: string
        description: Region in which VPC exists.
      vpcId:
        type: string
        description: VPC ID in which the Private Link should be created.
      subnetIds:
        type: array
        items:
          type: string
        description: IDs of the private subnets in which the Private Link should be created.
  AWSAccountInfo:
    type: object
    description: Details of the cloud network and the cross-account role required to delete the Private Link endpoint.
    properties:
      crossAccountRoleDetails:
        description: Cross account role details.
        $ref: '#/definitions/CrossAccountRoleDetails'
      credentialCrn:
        type: string
        description: CDP Credential CRN to fetch the AWS cross-account roleArn for the account where the endpoint gets deleted.
      region:
        type: string
        description: Region in which VPC exists.
      vpcId:
        type: string
        description: VPC ID in which the vpc endpoint should be deleted.
  AzureAccountInfo:
    type: object
    description: Details of the cloud network and the cross-account role required to delete the Private Link endpoint.
    properties:
      azureClientSecretCredential:
        description: Azure client secret credential, either this or credential CRN should be passed.
        $ref: '#/definitions/AzureClientSecretCredential'
      credentialCrn:
        type: string
        description: CDP Credential CRN to fetch the Azure client secret credentials, either this or AzureClientSecretCredential should be passed.
      location:
        type: string
        description: Region in which VPC exists.
      vNetId:
        type: string
        description: vNet ID in which the Private Link should be created.
  AzureAccountDetails:
    type: object
    description: Details of the cloud network and the cross-account role required to create the Private Link endpoint.
    properties:
      azureClientSecretCredential:
        description: Azure client secret credential, either this or credential CRN should be passed.
        $ref: '#/definitions/AzureClientSecretCredential'
      credentialCrn:
        type: string
        description: CDP Credential CRN to fetch the Azure client secret credentials, either this or AzureClientSecretCredential should be passed.
      subscriptionId:
        type: string
        description: The Subscription for which the Private Link service to be allowed/accessible.
      resourceGroup:
        type: string
        description: The resource group under which the private endpoint is to be created.
      location:
        type: string
        description: Azure location where endpoint should be created.
      vNetId:
        type: string
        description: vNet ID in which the Private Link should be created.
      subnetId:
        type: string
        description: ID of the private subnet in which the Private Link should be created.
  PrivateLinkEndpointStatus:
    type: object
    description: Details of the Private Link endpoints.
    properties:
      serviceComponent:
        type: string
        description: CDP service component name [API/DBUSAPI/IAMAPI/CCMV2/CONSOLEAUTH].
      status:
        type: string
        description: Status of the Private Link endpoints. The status is set to SUCCESS when endpoint is created successfully, IN_PROGRESS when the endpoint creation is underway and ERROR when endpoint creation fails.
      error:
        type: string
        description: Error message on failure.
      endpointId:
        type: string
        description: Private Link endpoint ID on success.
      dnsNames:
        type: array
        items:
          type: string
        description: List of Private Link endpoint DNS names on successful creation.
      creationTimestamp:
        type: string
        description: Endpoint creation timestamp.
  RevokePrivateLinkServiceAccessRequest:
    type: object
    description: Request object for the RevokePrivateLinkServiceAccess method.
    properties:
      cloudAccountId:
        type: string
        description: AWS account ID to authorize access for Private Link.
      subscriptionId:
        type: string
        description: Azure subscription ID to authorize access for Private Link.
      region:
        type: string
        description: Region where the Private Link service exists.
      serviceGroup:
        type: string
        description: CDP service group. Currently supports "CDP-CONTROL-PLANE" for PaaS.
      cloudServiceProvider:
        description: Cloud Service Provider. Currently supporting AWS and AZURE.
        $ref: '#/definitions/CloudServiceProvider'
  RevokePrivateLinkServiceAccessResponse:
    type: object
    description: Response object for the RevokePrivateLinkServiceAccess method.
    properties:
      status:
        type: string
        description: Status of Private Link service access revoke.
      revokePrivateLinkServiceAccessResults:
        type: array
        items:
          $ref: '#/definitions/RevokePrivateLinkServiceAccessResult'
        description: List of RevokePrivateLinkServiceAccessResult objects.
  RevokePrivateLinkServiceAccessResult:
    type: object
    description: Revoke response containing PrivateLink service name, service component and its revocation status.
    properties:
      privateLinkService:
        type: string
        description: Name of the Private Link service.
      serviceComponent:
        type: string
        description: CDP service component.
      revocationStatus:
        type: string
        description: Revocation status for the Private Link service.
  PrivateLinkStatus:
    type: string
    description: "Status of the Private Link.\n `ENABLED` - Private Link is enabled. `DISABLED` - Private Link is disabled. `ERROR` - Error while retrieving the Private Link status."
    enum:
      - ENABLED
      - DISABLED
      - ERROR
  GetPrivateLinkStatusRequest:
    type: object
    description: Request object for retrieving the status of a Private Link.
    properties:
      subnetIds:
        type: array
        items:
          type: string
        description: List of subnets in the given cloud network to query Private Link status. This field has been deprecated.
        x-deprecated: true
      vNetId:
        type: string
        description: Virtual Network Id to query the status of Private Link in Azure.
      vpcId:
        type: string
        description: VPC ID to query the status of Private Link in AWS.
      cloudServiceProvider:
        description: Cloud Service Provider. Supports AWS and AZURE.
        $ref: '#/definitions/CloudServiceProvider'
  GetPrivateLinkStatusResponse:
    type: object
    description: Response object for GetPrivateLinkStatus method.
    properties:
      status:
        description: Status of Private Link - enabled or disabled.
        $ref: '#/definitions/PrivateLinkStatus'
  MigratePrivateLinkEndpointsRequest:
    type: object
    description: Request object for the MigratePrivateLinkEndpoints method.
    required:
      - awsAccountInfo
    properties:
      awsAccountInfo:
        description: Migration is AWS-only. AWS account information for the Private Link endpoint migration. Only the VPC ID, region, and credentials are required; subnet and other details are retrieved from the database.
        $ref: '#/definitions/AWSAccountInfo'
  MigratePrivateLinkEndpointsResponse:
    type: object
    description: Response object for the MigratePrivateLinkEndpoints method.
    properties:
      trackingId:
        type: string
        description: Tracking ID of the migration request.
x-audit: true
